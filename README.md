# stocks

# 股票分析工具（高股息率与稳定分红筛选）

## 项目概述

### 背景
本项目旨在开发一个自动化股票分析工具，用于收集和分析港交所（HKEX）、纽交所（NYSE）和纳斯达克（NASDAQ）上市公司的历史分红数据（过去10年）以及当前股价。目标是筛选出股息率高且分红稳定的股票，帮助用户制定“等着收股息过日子”的投资策略。

### 目标
- 收集港交所、纽交所和纳斯达克上市公司的分红历史（2015-2025年）和最新股价。
- 计算股息率（年度分红金额 / 当前股价），并按股息率排序。
- 评估分红稳定性（如连续10年无中断分红），筛选优质股票。
- 提供用户界面展示筛选结果，支持交互和数据更新。

### 预期成果
- 自动化的股票筛选工具，输出高股息率且分红稳定的股票列表。
- 可视化展示每只股票的分红历史和股价趋势。
- 一个易于维护的 GitHub 仓库，包含代码和文档。

---

## 项目计划

### 1. 数据收集
- **目标**：获取港交所、纽交所和纳斯达克的股票分红历史和当前股价。
- **数据源**：
  - **EODHD API**：覆盖全球70+交易所，提供分红和股价数据。
  - **备选**：Yahoo Finance API（yfinance 库），免费获取部分数据。
- **任务**：
  - 注册 EODHD API，获取密钥，测试数据覆盖。
  - 用 Golang 编写脚本，通过 HTTP 请求获取：
    - 股票列表（代码、名称、交易所）。
    - 分红历史（日期、金额）。
    - 当前股价（最新收盘价）。
  - 处理 API 请求限制，分批下载数据。
- **输出**：
  - JSON 文件，包含每只股票的分红记录和股价。

### 2. 数据存储
- **目标**：使用 JSON 文件存储数据，支持快速读取和更新。
- **技术选择**：
  - JSON 文件作为数据库，简化开发和部署。
- **文件结构**：
  - `stocks.json`：股票基本信息和当前股价。
  - `dividends.json`：分红历史记录。
- **任务**：
  - 设计 JSON 文件结构。
  - 用 Golang 将 API 数据保存到 JSON 文件。
  - 实现定期更新机制（每日/每周）。
- **输出**：
  - 包含所有股票数据的 JSON 文件。

### 3. 数据处理与分析
- **目标**：计算股息率，评估分红稳定性，筛选股票。
- **逻辑**：
  - **股息率**：年度分红总和 / 当前股价。
  - **稳定性**：连续10年有分红，分红金额无显著减少。
  - **排序**：按股息率从高到低排列。
- **任务**：
  - 用 Golang 读取 JSON 数据，计算股息率。
  - 实现稳定性分析算法：
    - 检查分红次数。
    - 计算分红年均增长率。
  - 筛选条件：股息率 > 4%，连续10年分红。
- **输出**：
  - JSON 文件，包含筛选后的股票列表。

### 4. 用户界面开发
- **目标**：提供直观界面展示结果，支持用户交互。
- **技术栈**：
  - **后端**：Golang（Gin 框架），提供 API。
  - **前端**：HTML、CSS（Bootstrap）、JavaScript。
  - **可视化**：Chart.js，展示图表。
- **功能**：
  - 筛选条件输入（最低股息率、稳定性）。
  - 结果表格（股票代码、名称、股息率、稳定性评分）。
  - 图表展示（10年分红和股价趋势）。
- **任务**：
  - 用 Gin 开发 API，提供数据查询。
  - 用 Bootstrap 设计响应式界面。
  - 集成 Chart.js 生成图表。
- **输出**：
  - 可运行的网页应用。

### 5. 部署与维护
- **目标**：确保工具稳定运行，数据定期更新。
- **部署**：
  - **平台**：Heroku 或 AWS EC2。
- **维护**：
  - 编写脚本，定期更新数据。
  - 监控 API 使用量，备份 JSON 文件。
- **任务**：
  - 在 Heroku 部署应用，配置 API 密钥。
  - 设置 GitHub Actions 自动更新数据。
- **输出**：
  - 在线工具 URL，数据自动更新。

### 6. GitHub 仓库设置
- **目标**：创建清晰的仓库结构。
- **结构**：



-- Evniorment  Important poins:
you are inside the docker container:
51971fbab266   claude-code:latest       "docker-entrypoint.s…"   6 minutes ago   Up 6 minutes   0.0.0.0:31417->31417/tcp, 0.0.0.0:65001-65010->65001-65010/tcp, 0.0.0.0:63981->8080/tcp   claude-code-31417

then using the open port 65001-65010 to deliver the webpage , and the backed using golang+json(data source)


all coversation oorecord in memory.md for further development




